<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NovaMarket | Premium Everything Store</title>
    {% load static %}
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
</head>
<body>
    <header class="main-header">
        <nav class="navbar container">
            <a href="{% url 'home' %}" class="logo-container">
                <div class="logo-icon">
                    <svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"></path></svg>
                </div>
                <span class="logo">Nova<span>Market.</span></span>
            </a>

            {% if request.resolver_match.url_name != 'login' and request.resolver_match.url_name != 'register' and request.resolver_match.url_name != 'admin_panel' %}
                <form action="{% url 'home' %}" method="get" class="search-bar">
                    <svg width="22" height="22" fill="none" stroke="currentColor" viewBox="0 0 24 24" style="color: rgba(255,255,255,0.4);"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
                    <input type="text" name="q" placeholder="Search for electronics, fashion, and lifestyle..." value="{{ request.GET.q }}">
                </form>

                <div style="display: flex; align-items: center; gap: 20px;">
                    <a href="{% url 'view_cart' %}" style="background:var(--primary); color:white; padding:12px 24px; border-radius:12px; text-decoration:none; font-weight:700; display:flex; gap:10px; align-items:center;">
                        <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"></path></svg>
                        Cart
                    </a>
            {% else %}
                <div style="display: flex; align-items: center; gap: 20px; margin-left: auto;">
            {% endif %}

                {% if user.is_authenticated %}
                    <span style="color:white; font-size:0.95rem;">Welcome, <strong style="color:var(--primary);">{{ user.username }}</strong></span>
                    
                    {% if request.resolver_match.url_name != 'admin_panel' %}
                        <a href="{% url 'my_orders' %}" style="color:white; text-decoration:none; font-weight:600;">Orders</a>
                    {% endif %}

                    <form action="{% url 'logout' %}" method="post" style="display: inline;">{% csrf_token %}<button type="submit" style="background:none; border:1px solid rgba(255,255,255,0.2); color:white; padding:8px 15px; border-radius:10px; cursor:pointer; font-weight:600;">Logout</button></form>
                {% else %}
                    <a href="{% url 'login' %}" style="color:white; text-decoration:none; font-weight:600;">Login</a>
                    <a href="{% url 'register' %}" style="background:white; color:#0f172a; padding:12px 24px; border-radius:12px; text-decoration:none; font-weight:700;">Sign Up</a>
                {% endif %}
            </div>
        </nav>
    </header>

    <main class="container" style="padding: 60px 0;">
        {% block content %}{% endblock %}
    </main>

    <footer class="footer" style="background: #0f172a; color: white; padding: 80px 0 30px; border-top: 1px solid rgba(255,255,255,0.05);">
        <div class="container footer-grid" style="display: grid; grid-template-columns: 1.2fr 0.8fr 1fr 1fr 1.2fr; gap: 30px;">
            
            <div class="footer-section">
                <h3 style="font-weight: 800; margin-bottom: 20px; font-size: 1.3rem;">Nova<span>Market.</span></h3>
                <p style="color: rgba(255,255,255,0.6); line-height: 1.6; font-size: 0.9rem;">
                    Premium e-commerce platform dedicated to bringing high-end curated lifestyle products to a global audience. We bridge the gap between quality and accessibility.
                </p>
            </div>

            <div class="footer-section">
                <h3 style="font-weight: 700; margin-bottom: 20px; font-size: 1rem; text-transform: uppercase; color: var(--primary);">Shop</h3>
                <ul style="list-style: none; padding: 0; font-size: 0.9rem;">
                    <li style="margin-bottom: 10px;"><a href="{% url 'home' %}" style="color: rgba(255,255,255,0.6); text-decoration: none;">All Items</a></li>
                    <li style="margin-bottom: 10px;"><a href="{% url 'my_orders' %}" style="color: rgba(255,255,255,0.6); text-decoration: none;">Tracking</a></li>
                </ul>
            </div>

            <div class="footer-section">
                <h3 style="font-weight: 700; margin-bottom: 20px; font-size: 1rem; text-transform: uppercase; color: var(--primary);">Support</h3>
                <p style="color: rgba(255,255,255,0.6); font-size: 0.9rem; margin-bottom: 8px;">reach@novamarket.io</p>
                <p style="color: rgba(255,255,255,0.6); font-size: 0.9rem;">+91 124 456 7890</p>
            </div>

            <div class="footer-section">
                <h3 style="font-weight: 700; margin-bottom: 20px; font-size: 1rem; text-transform: uppercase; color: var(--primary);">Global HQ</h3>
                <p style="color: rgba(255,255,255,0.6); font-size: 0.9rem; line-height: 1.5;">
                    üè¢ Skyline Towers, Cyber Hub, Gurugram, Haryana.
                </p>
            </div>

            <div class="footer-section">
                <h3 style="font-weight: 700; margin-bottom: 20px; font-size: 1rem; text-transform: uppercase; color: var(--primary);">Newsletter</h3>
                <p style="color: rgba(255,255,255,0.6); font-size: 0.85rem; margin-bottom: 15px;">Subscribe for latest collections and exclusive offers.</p>
                <form action="#" style="display: flex; gap: 5px;">
                    <input type="email" placeholder="Your email" style="background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); color: white; padding: 8px 12px; border-radius: 8px; font-size: 0.85rem; width: 100%; outline: none;">
                    <button type="button" style="background: var(--primary); color: white; border: none; padding: 8px 15px; border-radius: 8px; cursor: pointer; font-weight: 700;">Join</button>
                </form>
            </div>
        </div>

        <div class="footer-bottom" style="margin-top: 50px; padding-top: 25px; border-top: 1px solid rgba(255,255,255,0.05); text-align: center;">
            <p style="color: rgba(255,255,255,0.3); font-size: 0.8rem;">
                &copy; 2026 NovaMarket Systems &bull; Built with precision by <strong>NovaMarket.io</strong>
            </p>
        </div>
    </footer>
</body>
</html>